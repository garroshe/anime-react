"use strict";(self.webpackChunkmarvel=self.webpackChunkmarvel||[]).push([[835],{835:(e,a,t)=>{t.r(a),t.d(a,{default:()=>u});var s=t(43),l=t(24),r=t(175),n=t(462),c=t(467),A=t(425);const i="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAThJREFUOI2dkjFKg0EUhGd/EyGQNCm1TGOjqWwEK7HUzgsE9AgeQOu01gYbRdIasFNQsBHUPkqOkEYL33wWLvKrQaMDC8vMzvD2MZIkoEbEPvYQe4x9D2wDRT472PdZGxKxB9SUzbPYl0QcAa3MLWAPiDgg4gD7DFjIWouII+wLYDYBu4LlVBRbKgGoCs4lSSmtp5ReP+n2qVK6EfYDsKgJAGofo37XlrDvhD0GKpMe/QSgij0uJL1ImvlrgKRC0nMh6VrSxj8CNiVdCVjFfgLq0zqBOvYjsPJORHSx+9PsAqhg94nolsmCiB4Rxz+FABUiTojoAcVXcYaIHvYAaEwwN3K5DoHJSwdSrvQtMF/i57Bvc4XTb98U0MEeAm2gne+dX41fQtawR9gjYO1P5lJIE2j+yzwt3gDcRjmyFSsYJQAAAABJRU5ErkJggg==",d="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAB2AAAAdgFOeyYIAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAk1JREFUOI2VkklMU1EYhc+9pY/WlL4Oj8E2RQWtCBSxJDQhIIMbMRGnsHDhRkxwY925cuXajTGsHOJKjSQG1ARFJLSINYZoBMpoC9VYS2lrfS3SvmKvC8WA0lC/5fnPOX/uzU/wm0PGI+bw99D1WCpaDtA0L+ffCpyhEwDCqUCXmIrWAEBeDu9WcWq7c7F/HgAIANTnt1x+9/XNFQtvJXvy9gEAJsUxzMYmfwDAbtVemTmvHAQUnvgMJsX3rFpXe2kkOHiVNBa2Hh0NDz/qKLGjeNsurMcbnwUAlKjMf7T55Q8gILgz38VqdfWHZTmEvqgTmtQW3oq/0XJ6aDn9Bu2u7wYICEpVZuJdnmuggYTfUMXX/BPOxJmd5+FY6odFY8Viwm+iq+lVIqdc1gVqOQ/GGOREDiktUarhdCv+lU9ZFwDA6R1nEUoGwcu1K7RIYXS5wo7/KqjkD+BVeAjbFcYRyiv5C1PiOIumIlkXRKUIpsUJJigLLhIAqNLUOKV0sqGjxA7y6zQywsBw03MNuTKlYyw62kQBQKcxtYWSweTrsHPL7a6QAxEplDDS/DYAoAAwtNATtWj3n3z6pYfNxNwZw9PiBJ4FelmFuvpEX6RPBADZ2nAh7p2rExq9/YEnx4oURiLkFmwIz8WmcO/jbWbV2zqdwecP1nTZepNv2TtmEw56BwKPj0vpJFk74ZdLg+j9fJ9ZtbZzw8GBW1u+s1lobjQoTN/K1JWsTF3JDMpisaWwtWUzb8Yvb69o5zx+30OAslKD6VS3u1vazPcTn3XXNTkzF0EAAAAASUVORK5CYII=",o="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAHVJREFUSIntlDsOQFAQRS9BQqIQ9mMtGnuyApVYAJVaYklH4VWifCMS71RT3ZPMTwoEPgHQASNQWQkGLnYTCVAAq5McQG0lWawl+U3SRMAsqfXoSSSVrt5iSanH8DuZ17SnFvkMtxuy+Zq+cWg9MJm9isDPOQHwN59WNw7SmQAAAABJRU5ErkJggg==";var h=t(579);const g=e=>{let{id:a,name:t,img:s,favourites:l,getIdSelectChar:r}=e;return(0,h.jsxs)("li",{onClick:()=>r(a),className:"all-char__item",children:[(0,h.jsx)(n.N_,{to:"/characters/character",children:(0,h.jsx)("img",{className:"all-char__img",src:s,alt:t})}),(0,h.jsxs)("div",{className:"all-char__info",children:[(0,h.jsx)("div",{className:"all-char__name",children:t}),(0,h.jsxs)("div",{className:"all-char__favorite",children:[(0,h.jsx)("img",{src:i,alt:"heart"}),(0,h.jsx)("div",{children:l})]})]})]},a)},m=e=>{let{getIdSelectChar:a}=e;const[t,m]=(0,s.useState)([]),[u,x]=(0,s.useState)([]),[v,j]=(0,s.useState)([]),[C,f]=(0,s.useState)(""),[N,w]=(0,s.useState)(""),[S,I]=(0,s.useState)(2),{getCharacterByName:p,getCharacterToOffset:E,loading:b,error:Y}=(0,l.A)(),k=(0,r.d)(C,500);(0,s.useEffect)((()=>{k&&p(k).then(j)}),[k]),(0,s.useEffect)((()=>{B()}),[]);const B=e=>{E(e).then((e=>{m(e),x(e)}))};(0,s.useEffect)((()=>{m(D(N,u))}),[N]);const Q=e=>{w(e.target.value)},R=e=>{e.target.src===d?e.target.src=i:e.target.src=d},D=(e,a)=>{let s=[...a];switch(e){case"popular":return s.sort(((e,a)=>a.favourites-e.favourites));case"name":return s.sort(((e,a)=>e.name.full.localeCompare(a.name.full)));case"anime":return s.filter((e=>{var a,t,s,l;return"ANIME"===(null===(a=e.media)||void 0===a||null===(t=a.edges)||void 0===t||null===(s=t[0])||void 0===s||null===(l=s.node)||void 0===l?void 0:l.type)}));default:return t}},U=t.map((e=>(0,h.jsxs)("li",{onClick:()=>a(e.id),className:"all-char__item",children:[(0,h.jsx)(n.N_,{to:"/characters/character",children:(0,h.jsx)("img",{className:"all-char__img",src:e.image.large,alt:e.name.full})}),(0,h.jsxs)("div",{className:"all-char__info",children:[(0,h.jsx)("div",{className:"all-char__name",children:e.name.full}),(0,h.jsxs)("div",{className:"all-char__favorite",children:[(0,h.jsx)("img",{onClick:R,src:i,alt:"heart"}),(0,h.jsx)("div",{children:e.favourites})]})]})]},e.id))),W=v&&C.length>1&&!b&&!Y?(0,h.jsx)(g,{getIdSelectChar:a,id:v.id,name:v.name,favourites:v.favourites,img:v.img}):U,F=b?(0,h.jsx)(c.A,{}):null,J=Y?(0,h.jsx)(A.A,{}):null;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:"search-container",children:[(0,h.jsx)("h2",{className:"search-title",children:"\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\u0456"}),(0,h.jsxs)("div",{className:"search-bar",children:[(0,h.jsxs)("div",{className:"search-input",children:[(0,h.jsx)("span",{className:"icon",children:"\ud83d\udd0d"}),(0,h.jsx)("input",{onChange:e=>(e=>{f(e.target.value)})(e),value:C,type:"text",placeholder:"\u041f\u043e\u0448\u0443\u043a \u0437\u0430 \u043d\u0430\u0437\u0432\u043e\u044e"})]}),(0,h.jsxs)("select",{onChange:Q,className:"btn sort-btn",name:"sort",id:"sort",children:[(0,h.jsx)("option",{value:"",children:"\u0421\u043e\u0440\u0442\u0443\u0432\u0430\u043d\u043d\u044f"}),(0,h.jsx)("option",{value:"popular",children:"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u0456"}),(0,h.jsx)("option",{value:"name",children:"\u0417\u0430 \u043d\u0430\u0437\u0432\u043e\u044e"})]}),(0,h.jsxs)("select",{onChange:Q,className:"btn filter-btn",name:"filter",id:"filter",children:[(0,h.jsx)("option",{value:"",children:"\u0424\u0456\u043b\u044c\u0442\u0440"}),(0,h.jsx)("option",{value:"anime",children:"\u0410\u043d\u0456\u043c\u0435"})]})]})]}),F,J,(0,h.jsx)("ul",{className:"all-char",children:W}),(0,h.jsxs)("div",{className:"all-char__navigation",children:[(0,h.jsx)("img",{onClick:()=>{S>1&&I((e=>e-1)),B(S)},style:{transform:"rotate(180deg)"},src:o,alt:"arrow"}),(0,h.jsxs)("div",{className:"all-char__page",children:[(0,h.jsx)("div",{tabIndex:0,onClick:e=>B(e.target.textContent),children:"1"}),(0,h.jsx)("div",{tabIndex:0,onClick:e=>B(e.target.textContent),children:"2"}),(0,h.jsx)("div",{tabIndex:0,onClick:e=>B(e.target.textContent),children:"3"}),(0,h.jsx)("div",{tabIndex:0,onClick:e=>B(e.target.textContent),children:"4"}),(0,h.jsx)("div",{style:{cursor:"not-allowed"},children:"..."}),(0,h.jsx)("div",{tabIndex:0,onClick:e=>B(e.target.textContent),children:"500"})]}),(0,h.jsx)("img",{onClick:()=>{I((e=>e+1)),B(S)},src:o,alt:"arrow"})]})]})},u=e=>{let{getIdSelectChar:a}=e;return(0,h.jsx)(m,{getIdSelectChar:a})}},175:(e,a,t)=>{t.d(a,{d:()=>l});var s=t(43);const l=(e,a)=>{const[t,l]=(0,s.useState)(e);return(0,s.useEffect)((()=>{const t=setTimeout((()=>{l(e)}),a);return()=>clearTimeout(t)}),[e,a]),t}}}]);
//# sourceMappingURL=835.75181ee5.chunk.js.map